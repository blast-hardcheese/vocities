@(title: String, templateId: String, templateData: JsValue, content: Html)

@header = {
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style.css")" />
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style-xsmall.css")" />
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style-small.css")" />
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style-medium.css")" />
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style-large.css")" />
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/html5up-read-only/style-xlarge.css")" />


        <script type="text/javascript">
jQuery(function($) {
    console.info('wat');
    var data = @Html(Json.stringify(templateData))
    window.data = data;
    var factory = React.createFactory(Templates['@templateId']())(data);

    var body = $('body');
    var top = React.render(factory, body[0]);
    top.setProps(data);

    var init = TemplateInits['@templateId'];
    if (init !== undefined) {
        init(data);
    }

    var container = $('<div />', {
        'style': 'position: fixed; top: 20px; right: 20px;',
    });

    var textarea = jQuery('<textarea />', {
        html: JSON.stringify(data, null, '  '),
        style: 'display: block; height: 160px; width: 600px;'
    });

    var saveButton = $('<button />', {
        html: 'Save',
        style: 'display: block',
    });

    container.append(textarea);
    container.append(saveButton);

    body.append(container);

    saveButton.on('click', function() {
        data = JSON.parse($('textarea').val());
        top.setProps(data);
    });
});
        </script>
}

@main(title)(header)(content)
